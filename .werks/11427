Title: WATO: Improved performance on host lookup on various pages
Class: feature
Compatible: compat
Component: wato
Date: 1603114669
Edition: cre
Knowledge: undoc
Level: 1
State: unknown
Version: 2.0.0i1

Bigger installations (>200k services) tend to have a large WATO configuration with thousands of folders and hosts.
Finding a host in these configuration took a considerable amount of time on some pages

<ul>
<li>Web API host calls, except add_host</li>
<li>Bulk discovery</li>
<li>Host diagnose</li>
<li>Fetching agent output</li>
<li>Service discovery</li>
<li>And some other pages, where the actual folder of the host is not known/specified</li>
<li></li>
</ul>

To fix this problem, a folder lookup index has been introduced to improve the time taken to find a hostname in the configuration.

