[//]: # (werk v2)
# New notification setup

key        | value
---------- | ---
date       | 2025-03-06T07:24:27+00:00
version    | 2.4.0b1
class      | feature
edition    | cre
component  | notifications
level      | 2
compatible | yes

To enable you to configure your notification rules as easy as possible, we
completely revised the notification rule setup.

Note: Personal user notifications and service monitoring rules for notification
methods still use the old configuration steps.

If you create a new notification rule within "Setup" - "Notifications" you will
find the new options "Guided mode" and "Overview mode". The "Guided mode" walks
you through the configuration step by step. During each step, your data is
validated and you are warned if something is missing or incorrect. If all data
was entered correctly, you will by guided to the next step. The "Overview mode"
makes all single steps of the "Guided mode" configurable at once. All steps
will be validated upon saving your notification rule.

For both modes, the configuration is split up into the following parts:

### 1. Triggering events

This is the section where you define which events you want to send notifications
for. The default option is "Specific events" to limit notifications to the most
relevant events and avoid noise. Whereas, the second option "All events" will
not restrict any event.

With the default option you can limit events for:

***Host events***

_old condition: "Match host event type"_

* State change
* Start or end of downtime
* Acknowledgement of problem
* Start or end of flapping state
* Alert handler execution

***Service events***

_old condition: "Match service event type"_

* State change
* Start or end of downtime
* Acknowledgement of problem
* Start or end of flapping state
* Alert handler execution

***Event Console alerts***

_old condition: "Event Console alerts"_

* enable/disable

### 2. Filter for hosts/services

This section defines what hosts/services are affected by the notification rule.
The "Service filters" are only available, if you enable "Service events" in step 1.
Same for "Event Console alert filters" and "Event Console alerts" in step 1.

The following filters are availabe:

***Event Console alert filters***

_old condition: "Event Console alerts"_

* Rule IDs
* Syslog priority
* Syslog facility
* Event comment


***Host filters***

* Host tags
* Host labels
* Host groups
* Hosts
* Exclude hosts

***Service filter***

* Service labels
* Service groups
* Exclude service groups
* Services
* Exclude services

***Contact group filters***

* Groups _(old condition: "Match contact groups")_
* Members _(old condition: "Match contacts")_

***General filters***

* Service level
* Folder
* Sites
* Check types

### 3. Notification method

This step defines how the notification should be sent out. If you choose "Send
notification", you can choose the notification method and a notification
parameter for that method (for notification parameter, see werk \#17698). If
the notification plugin supports bulk notifications, you can also enable bulk.
If you choose "Suppress all previous", you have to select a method and all
previous notification rules for that method will be suppressed. This was the
option "Cancel previous notifications" before.

### 4. Recipient

Here you can configure who should receive the notification. This is the same as
"Contact selection" in older versions.

### 5. Sending conditions

Specify when and how notifications are sent based on the following criteria:
frequency, timing, and content.

**Notification frequency and timing**

* "Restrict notifications to a time period" _(old condition: "Match only during time period")_
* "Limit notifications by count to" _(old condition: "Restrict to notification number")_
* "Throttling of 'Periodic notifications" _(old condition: "Throttle periodic notifications")_

***Content-based filtering***

* "By plugin output" _(old condition: "Match check plug-in output")_
* "'Custom notifications' by comment") _(old condition: "Match notification comment")_

### 6. General properties

Make your rule more recognizable with a meaningful description and other
metadata. This is the same as "Rule properties" in older versions.

###Saving a rule

If you have completed all steps or finished your configuration with the
"Overview mode", you can save the notification rule with "Apply & test
notification rule", which leads you to the "Test notification" page. If you
want to create another notification rule, you also can use "Apply & create
another rule".

###What about old notification rules

Existing notifications are compatible to the new notification setup. No changes
needed on your end.
