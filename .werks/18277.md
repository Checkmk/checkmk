[//]: # (werk v2)
# Agent controller communication

key        | value
---------- | ---
date       | 2025-07-31T06:56:46+00:00
version    | 2.5.0b1
class      | fix
edition    | cre
component  | checks
level      | 1
compatible | yes

In some rare cases, the communication between agent controller and agent receiver
could fail with an error message `Request failed with code 500 Internal Server Error: Internal Server Error`.

The agent receiver communicates with the local OMD site via REST-API to fulfill certain
requests from the agent controller, and uses `localhost` as address for the queries.

If `localhost` is not configured on the Checkmk server (no entry in `/etc/hosts`), these queries failed, leading
to the observed behavior.

The agent receiver now communicates with the local REST-API via the local apache's address that's configured by `omd config`.

