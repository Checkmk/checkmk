[//]: # (werk v2)
# agent_kube: Abort querying OpenShift endpoint

key        | value
---------- | ---
date       | 2025-12-01T15:27:46+00:00
version    | 2.4.0p18
class      | fix
edition    | cre
component  | checks
level      | 1
compatible | yes

`agent_kube` uses a Prometheus endpoint to provide monitoring for OpenShift clusters.
Previously, the agent would always send all requests to the endpoint, even if all previous requests to the endpoint failed.
While this behaviour gives Checkmk the highest chance of collecting information from Prometheus, it can also cause the agent to timeout.
This in turn causes the agent to not report monitoring data, which it already collected from the API server.

With this Werk, `agent_kube` will check the requests made while collecting the usage data on containers.
If Prometheus does not respond with a `success` status to any request, the agent skips collecting information about the nodes.
The debugging information about the specific errors will still be reported.
