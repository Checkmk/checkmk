[//]: # (werk v2)
# Introduce ClickHouse as new metric backend for Checkmk

key        | value
---------- | ---
date       | 2025-12-17T10:28:59+00:00
version    | 2.5.0b1
class      | feature
edition    | cce
component  | wato
level      | 2
compatible | yes

Checkmk has introduced ClickHouse as a new storage and query backend for OpenTelemetry metrics, building on the application monitoring foundation established in [Werk 17524](https://checkmk.com/werk/17524) in version 2.4.
This new backend enhances the ingestion and querying capabilities for OpenTelemetry metrics, enabling more efficient storage and paving the way for advanced application monitoring features.
All metrics received by the OpenTelemetry collector are now stored in ClickHouse.

In Checkmk 2.5, ClickHouse is disabled by default.
To activate it, use the global setting _Metric backend_.
Once enabled, Checkmk will start a local ClickHouse instance in the site context.
This instance appears as an additional OMD service in the site’s service list.
Note that the memory usage of ClickHouse is limited to 50% of the total memory available.
For SaaS users, ClickHouse is fully administered and operated by Checkmk, requiring no configuration.

Checkmk’s existing system for storing time series data, the [RRDs](https://docs.checkmk.com/latest/en/graphing.html#rrds), remains unchanged.
RRDs are designed for long-term storage of metric data produced by Checkmk services.
In contrast, the new ClickHouse backend is currently dedicated exclusively to storing and querying OpenTelemetry metrics, with a fixed time-to-live of two weeks.
The creation of services based on these recorded metrics occurs after ingestion into ClickHouse, so the recording of service metrics into RRDs is unaffected by this change.

By introducing ClickHouse, Checkmk lays the groundwork for extending its application monitoring capabilities.
For details on these enhanced monitoring features, see Werks [19075](https://checkmk.com/werk/19075) and [19076](https://checkmk.com/werk/19076).
