# The common set of distros which gets build during an official release
common: &common
    - "debian-10"
    - "debian-11"
    - "debian-12"
    - "ubuntu-20.04"
    - "ubuntu-22.04"
    - "ubuntu-24.04"
    - "centos-8"
    - "almalinux-9"
    - "almalinux-10"
    - "sles-12sp5"
    - "sles-15sp3"
    - "sles-15sp4"
    - "sles-15sp5"
    - "sles-15sp6"
    - "sles-15sp7"

# A reduced set of distros for the daily builds
# Containing only the latest version of each supported OS
# ubuntu-22.04 is used as internal base image
daily_reduced: &daily_reduced
    - "ubuntu-20.04"
    - "ubuntu-22.04"
    - "ubuntu-24.04"
    - "debian-10"
    - "sles-15sp6"
    - "sles-15sp7"

# Builds for those distros will only be available internally for development purpose
# internal_distros: &internal_distros
#     - "ubuntu-23.10"

# Currently, all builds of the saas edition should stay completley internal
# internal_editions:
#     - "saas"

# README:
# - the following sections defines what will be build/tested under which "use-case"
# - as a consequence, you need to consider e.g.:
#   - if we want to test the update for the combination edition A / distro B,
#     we may also need the builds for that!
#   - so keep that in mind when changing those settings!
editions:
    enterprise:
        release: [*common, "cma-3", "cma-4"]
        daily: [*common, "cma-3", "cma-4"]
        daily_tests: [*common]
        # Don't test the update process for internal distros, they are not public anyway
        daily_update_tests: [*common]
        weekly: [*common, "cma-3", "cma-4"]
        testbuild: ["ubuntu-24.04", "centos-8", "cma-4"]
    cloud:
        release: [*common, "cma-3", "cma-4"]
        daily: [*daily_reduced, "cma-3", "cma-4"]
        daily_tests: *daily_reduced
        # Don't test the update process for internal distros, they are not public anyway
        daily_update_tests: [*daily_reduced]
        weekly: [*common, "cma-3", "cma-4"]
        testbuild: []
    managed:
        release: [*common, "cma-3", "cma-4"]
        daily: *daily_reduced
        daily_tests: *daily_reduced
        weekly: [*common, "cma-3", "cma-4"]
        testbuild: []
    raw:
        release: *common
        daily: *daily_reduced
        daily_tests: *daily_reduced
        weekly: *common
        testbuild: []

# TODO: Sync this with our omd/distros/*.mk files
# We currently only need this for the internal_distros as at the point in the pipeline,
# where we want to exclude the internal distros, we are only using the distro codes and not the
# distro name anymore.
distro_to_codename:
    ubuntu-23.10: "mantic"
