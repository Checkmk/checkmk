NET_SNMP := net-snmp
NET_SNMP_DIR := $(NET_SNMP)

NET_SNMP_INSTALL := $(BUILD_HELPER_DIR)/$(NET_SNMP_DIR)-install

NET_SNMP_INSTALL_DIR := $(INTERMEDIATE_INSTALL_BASE)/$(NET_SNMP_DIR)
NET_SNMP_PYTHONPATH := $(NET_SNMP_INSTALL_DIR)/lib/python$(PYTHON_MAJOR_DOT_MINOR)/site-packages

.PHONY: $(NET_SNMP_INSTALL)
$(NET_SNMP_INSTALL): $(INTERMEDIATE_INSTALL_BAZEL)
	$(PACKAGE_PYTHON_EXECUTABLE) -m compileall \
	    -f \
	    --invalidation-mode=checked-hash \
	    -s "$(NET_SNMP_PYTHONPATH)/" \
	    -o 0 -o 1 -o 2 -j0 \
	    "$(NET_SNMP_PYTHONPATH)/netsnmp/"
	$(RSYNC) $(NET_SNMP_INSTALL_DIR)/ $(DESTDIR)$(OMD_ROOT)/
